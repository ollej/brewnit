<%= form_for(@details, url: recipe_details_path(@recipe), remote: true,
             html: { class: 'pure-form pure-form-stacked js-auto-submit' }) do |f| %>
  <%= invisible_captcha %>
  <% if @details.errors.any? %>
    <div id="error_explanation">
      <h2><%= I18n.t(:'activerecord.errors.models.recipe_detail.header', count: @recipe_details.errors.count) %></h2>

      <ul>
      <% @recipe_details.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <fieldset>
    <legend><%= I18n.t(:'recipe_detail.main_details') %></legend>

    <div class="pure-g">
      <div class="pure-u-1 pure-u-md-1-6">
        <%= f.label :batch_size %>
        <%= f.number_field :batch_size, class: 'pure-input-23-24', step: :any, required: true,
          placeholder: I18n.t(:'activerecord.attributes.recipe_detail.batch_size') %>
      </div>
      <div class="pure-u-1 pure-u-md-1-6">
        <%= f.label :boil_time %>
        <%= f.number_field :boil_time, class: 'pure-input-23-24', step: :any, required: true,
          placeholder: I18n.t(:'activerecord.attributes.recipe_detail.boil_time') %>
      </div>
      <div class="pure-u-1 pure-u-md-1-6">
        <%= f.label :efficiency %>
        <%= f.number_field :efficiency, class: 'pure-input-23-24', step: :any, required: true,
          placeholder: I18n.t(:'activerecord.attributes.recipe_detail.efficiency') %>
      </div>
      <div class="pure-u-1 pure-u-md-1-6">
        <%= f.label :boil_size %>
        <%= f.number_field :boil_size, class: 'pure-input-23-24', step: :any,
          placeholder: I18n.t(:'activerecord.attributes.recipe_detail.boil_size') %>
      </div>
      <div class="pure-u-1 pure-u-md-1-6">
        <%= f.label :sparge_temp %>
        <%= f.number_field :sparge_temp, class: 'pure-input-23-24', step: :any,
          placeholder: I18n.t(:'activerecord.attributes.recipe_detail.sparge_temp') %>
      </div>
      <div class="pure-u-1 pure-u-md-1-6">
        <%= f.label :grain_temp %>
        <%= f.number_field :grain_temp, class: 'pure-input-23-24', step: :any,
          placeholder: I18n.t(:'activerecord.attributes.recipe_detail.grain_temp') %>
      </div>
      <div class="actions pure-controls">
        <%= f.submit I18n.t(:'recipe_detail.save'), class: 'pure-button pure-button-primary' %>
      </div>
    </div>
  </fieldset>
<% end %>

<%= render 'fermentable_form' %>
<%= render 'hop_form' %>
<%= render 'misc_form' %>
<%= render 'yeast_form' %>
