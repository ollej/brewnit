<% style = @beerxml.style %>

<% if style.category.present? %>
<h2><%= style.category_number %><%= style.style_letter %>. <%= style.category %></h2>
<% end %>
<% if style.style_guide.present? %>
<h3 class="inline-heading"><%= t(:'beerxml.style_guide') %></h3> <%= style.style_guide %><br>
<% end %>
<% if style.type.present? %>
<h3 class="inline-heading"><%= t(:'beerxml.style_type') %></h3> <%= style.type %><br>
<% end %>

<svg xmlns="http://www.w3.org/2000/svg" style="height:0px;width:0px">
    <defs>
        <linearGradient id="NORMAL_COLOR" x1="0%" y1="0%" x2="0%" y2="100%" spreadMethod="pad">
            <stop offset="0%" stop-color="#C1DC99" stop-opacity="1" />
            <stop offset="100%" stop-color="#669900" stop-opacity="1" />
        </linearGradient>
        <linearGradient id="CRITICAL_COLOR" x1="0%" y1="0%" x2="0%" y2="100%" spreadMethod="pad">
            <stop offset="0%" stop-color="#E70030" stop-opacity="1" />
            <stop offset="100%" stop-color="#B30020" stop-opacity="1" />
        </linearGradient>
    </defs>
</svg>

<% if style.og_min.present? && style.og_max.present? %>
<div class="gauge-box">
<h3><%= t(:'beerxml.og') %></h3>
<div id="linear-gauge-og" class="linear-gauge"></div>
<p><%= format_sg(style.og_min) %> - <%= format_sg(style.og_max) %></p>
<script>
var ogGauge = new LinearGauge("#linear-gauge-og", {});
ogGauge.data({
  value: <%= @beerxml.og %>,
  ranges: [
    { from: 1.020, to: <%= style.og_min %>, color: "CRITICAL" },
    { from: <%= style.og_min %>, to: <%= style.og_max %>, color: "NORMAL" },
    { from: <%= style.og_max %>, to: 1.130, color: "CRITICAL" }
  ]
});
</script>
</div>
<% end %>

<% if style.fg_min.present? && style.fg_max.present? %>
<div class="gauge-box">
<h3><%= t(:'beerxml.fg') %></h3>
<div id="linear-gauge-fg" class="linear-gauge"></div>
<p><%= format_sg(style.fg_min) %> - <%= format_sg(style.fg_max) %></p>
<script>
var fgGauge = new LinearGauge("#linear-gauge-fg", {});
fgGauge.data({
  value: <%= @beerxml.fg %>,
  ranges: [
    { from: 1.000, to: <%= style.fg_min %>, color: "CRITICAL" },
    { from: <%= style.fg_min %>, to: <%= style.fg_max %>, color: "NORMAL" },
    { from: <%= style.fg_max %>, to: 1.060, color: "CRITICAL" }
  ]
});
</script>
</div>
<% end %>

<% if style.ibu_min.present? && style.ibu_max.present? %>
<div class="gauge-box">
<h3><%= t(:'beerxml.ibu') %></h3>
<div id="linear-gauge-ibu" class="linear-gauge"></div>
<p><%= number_with_precision(style.ibu_min, precision: 0) %> - <%= number_with_precision(style.ibu_max, precision: 0) %></p>
<script>
var ibuGauge = new LinearGauge("#linear-gauge-ibu", { labelFormat: ".0f" });
ibuGauge.data({
  value: <%= @beerxml.ibu %>,
  ranges: [
    { from: 0, to: <%= style.ibu_min %>, color: "CRITICAL" },
    { from: <%= style.ibu_min %>, to: <%= style.ibu_max %>, color: "NORMAL" },
    { from: <%= style.ibu_max %>, to: 120, color: "CRITICAL" }
  ]
});
</script>
</div>
<% end %>

<% if style.color_min.present? && style.color_max.present? %>
<div class="gauge-box">
<h3><%= t(:'beerxml.color') %></h3>
<div id="linear-gauge-color" class="linear-gauge"></div>
<p><%= number_with_precision(style.color_min, precision: 0) %> - <%= number_with_precision(style.color_max, precision: 0) %></p>
<script>
var colorGauge = new LinearGauge("#linear-gauge-color", { labelFormat: ".0f" });
colorGauge.data({
  value: <%= @beerxml.color_ebc %>,
  ranges: [
    { from: 0, to: <%= style.color_min %>, color: "CRITICAL" },
    { from: <%= style.color_min %>, to: <%= style.color_max %>, color: "NORMAL" },
    { from: <%= style.color_max %>, to: 120, color: "CRITICAL" }
  ]
});
</script>
</div>
<% end %>

<% if style.notes.present? %>
<h3><%= t(:'beerxml.style_notes') %></h3>
<p><%= style.notes %></p>
<% end %>

<% if style.examples.present? %>
<h3><%= t(:'beerxml.style_examples') %></h3>
<p><%= style.examples %></p>
<% end %>

<% if style.ingredients.present? %>
<h3><%= t(:'beerxml.style_ingredients') %></h3>
<p><%= style.ingredients %></p>
<% end %>

<% if style.profile.present? %>
  <h3><%= t(:'beerxml.style_profile') %></h3>
<p><%= style.profile %></p>
<% end %>

